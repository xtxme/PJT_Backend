{
  "version": "5",
  "dialect": "mysql",
  "id": "41b19dd6-c921-47ba-900b-fc25428832f3",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "tables": {
    "categories": {
      "name": "categories",
      "columns": {
        "id": {
          "name": "id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        }
      },
      "indexes": {
        "uidx_categories_name": {
          "name": "uidx_categories_name",
          "columns": [
            "name"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "categories_id": {
          "name": "categories_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "customers": {
      "name": "customers",
      "columns": {
        "id": {
          "name": "id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "fname": {
          "name": "fname",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lname": {
          "name": "lname",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tel": {
          "name": "tel",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_customers_email": {
          "name": "idx_customers_email",
          "columns": [
            "email"
          ],
          "isUnique": false
        },
        "idx_customers_tel": {
          "name": "idx_customers_tel",
          "columns": [
            "tel"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "customers_id": {
          "name": "customers_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "employee": {
      "name": "employee",
      "columns": {
        "id": {
          "name": "id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "fname": {
          "name": "fname",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "lname": {
          "name": "lname",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "username": {
          "name": "username",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "employee_status": {
          "name": "employee_status",
          "type": "enum('active','inactive')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "tel": {
          "name": "tel",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "role": {
          "name": "role",
          "type": "enum('owner','warehouse','sale')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'sale'"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "password": {
          "name": "password",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "uidx_employee_email": {
          "name": "uidx_employee_email",
          "columns": [
            "email"
          ],
          "isUnique": true
        },
        "uidx_employee_username": {
          "name": "uidx_employee_username",
          "columns": [
            "username"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "employee_id": {
          "name": "employee_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "order_items": {
      "name": "order_items",
      "columns": {
        "id": {
          "name": "id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "order_id": {
          "name": "order_id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "quantity": {
          "name": "quantity",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 1
        },
        "unit_price": {
          "name": "unit_price",
          "type": "decimal(12,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'0.00'"
        },
        "total_price": {
          "name": "total_price",
          "type": "decimal(12,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'0.00'"
        }
      },
      "indexes": {
        "uidx_order_items_order_product": {
          "name": "uidx_order_items_order_product",
          "columns": [
            "order_id",
            "product_id"
          ],
          "isUnique": true
        },
        "idx_order_items_product": {
          "name": "idx_order_items_product",
          "columns": [
            "product_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "order_items_order_id_orders_id_fk": {
          "name": "order_items_order_id_orders_id_fk",
          "tableFrom": "order_items",
          "tableTo": "orders",
          "columnsFrom": [
            "order_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "order_items_product_id_products_id_fk": {
          "name": "order_items_product_id_products_id_fk",
          "tableFrom": "order_items",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "order_items_id": {
          "name": "order_items_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "orders": {
      "name": "orders",
      "columns": {
        "id": {
          "name": "id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "sale_id": {
          "name": "sale_id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "order_number": {
          "name": "order_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "customer_id": {
          "name": "customer_id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "order_date": {
          "name": "order_date",
          "type": "datetime",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "total_amount": {
          "name": "total_amount",
          "type": "decimal(12,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'0.00'"
        },
        "order_status": {
          "name": "order_status",
          "type": "enum('completed','canceled')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'completed'"
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "bill": {
          "name": "bill",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "uidx_orders_order_number": {
          "name": "uidx_orders_order_number",
          "columns": [
            "order_number"
          ],
          "isUnique": true
        },
        "idx_orders_customer": {
          "name": "idx_orders_customer",
          "columns": [
            "customer_id"
          ],
          "isUnique": false
        },
        "idx_orders_sale": {
          "name": "idx_orders_sale",
          "columns": [
            "sale_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "orders_sale_id_employee_id_fk": {
          "name": "orders_sale_id_employee_id_fk",
          "tableFrom": "orders",
          "tableTo": "employee",
          "columnsFrom": [
            "sale_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        },
        "orders_customer_id_customers_id_fk": {
          "name": "orders_customer_id_customers_id_fk",
          "tableFrom": "orders",
          "tableTo": "customers",
          "columnsFrom": [
            "customer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "orders_id": {
          "name": "orders_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "products": {
      "name": "products",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "image": {
          "name": "image",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "category_id": {
          "name": "category_id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "unit": {
          "name": "unit",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "cost": {
          "name": "cost",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'0.00'"
        },
        "sell": {
          "name": "sell",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'0.00'"
        },
        "profit": {
          "name": "profit",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "generated": {
            "as": "(sell - cost)",
            "type": "stored"
          }
        },
        "quantity": {
          "name": "quantity",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "counted_qty": {
          "name": "counted_qty",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "last_counted_at": {
          "name": "last_counted_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "count_note": {
          "name": "count_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "quantity_pending": {
          "name": "quantity_pending",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "supplier_id": {
          "name": "supplier_id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "product_status": {
          "name": "product_status",
          "type": "enum('active','low_stock','restock_pending','pricing_pending')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_products_category": {
          "name": "idx_products_category",
          "columns": [
            "category_id"
          ],
          "isUnique": false
        },
        "idx_products_name": {
          "name": "idx_products_name",
          "columns": [
            "name"
          ],
          "isUnique": false
        },
        "idx_products_counted_at": {
          "name": "idx_products_counted_at",
          "columns": [
            "last_counted_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "products_category_id_categories_id_fk": {
          "name": "products_category_id_categories_id_fk",
          "tableFrom": "products",
          "tableTo": "categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        },
        "products_supplier_id_suppliers_id_fk": {
          "name": "products_supplier_id_suppliers_id_fk",
          "tableFrom": "products",
          "tableTo": "suppliers",
          "columnsFrom": [
            "supplier_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "products_id": {
          "name": "products_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "stock_in": {
      "name": "stock_in",
      "columns": {
        "id": {
          "name": "id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "batch_id": {
          "name": "batch_id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "product_id": {
          "name": "product_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "quantity": {
          "name": "quantity",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "received_qty": {
          "name": "received_qty",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": 0
        },
        "unit_cost": {
          "name": "unit_cost",
          "type": "decimal(10,2)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'0.00'"
        },
        "received_date": {
          "name": "received_date",
          "type": "datetime",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "supplier_id": {
          "name": "supplier_id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "stock_in_status": {
          "name": "stock_in_status",
          "type": "enum('pending','some_received','completed','canceled')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_stockin_batch": {
          "name": "idx_stockin_batch",
          "columns": [
            "batch_id"
          ],
          "isUnique": false
        },
        "idx_stockin_product": {
          "name": "idx_stockin_product",
          "columns": [
            "product_id"
          ],
          "isUnique": false
        },
        "idx_stockin_supplier": {
          "name": "idx_stockin_supplier",
          "columns": [
            "supplier_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stock_in_batch_id_stock_in_batches_id_fk": {
          "name": "stock_in_batch_id_stock_in_batches_id_fk",
          "tableFrom": "stock_in",
          "tableTo": "stock_in_batches",
          "columnsFrom": [
            "batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "stock_in_product_id_products_id_fk": {
          "name": "stock_in_product_id_products_id_fk",
          "tableFrom": "stock_in",
          "tableTo": "products",
          "columnsFrom": [
            "product_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "cascade"
        },
        "stock_in_supplier_id_suppliers_id_fk": {
          "name": "stock_in_supplier_id_suppliers_id_fk",
          "tableFrom": "stock_in",
          "tableTo": "suppliers",
          "columnsFrom": [
            "supplier_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "stock_in_id": {
          "name": "stock_in_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "stock_in_batches": {
      "name": "stock_in_batches",
      "columns": {
        "id": {
          "name": "id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "supplier_id": {
          "name": "supplier_id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "expected_date": {
          "name": "expected_date",
          "type": "datetime",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "batch_status": {
          "name": "batch_status",
          "type": "enum('pending','some_received','completed','canceled')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "'pending'"
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "datetime",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_stockin_batches_supplier": {
          "name": "idx_stockin_batches_supplier",
          "columns": [
            "supplier_id"
          ],
          "isUnique": false
        },
        "idx_stockin_batches_status": {
          "name": "idx_stockin_batches_status",
          "columns": [
            "batch_status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "stock_in_batches_supplier_id_suppliers_id_fk": {
          "name": "stock_in_batches_supplier_id_suppliers_id_fk",
          "tableFrom": "stock_in_batches",
          "tableTo": "suppliers",
          "columnsFrom": [
            "supplier_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {
        "stock_in_batches_id": {
          "name": "stock_in_batches_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "suppliers": {
      "name": "suppliers",
      "columns": {
        "id": {
          "name": "id",
          "type": "int unsigned",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "company_name": {
          "name": "company_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "tel": {
          "name": "tel",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "idx_suppliers_company": {
          "name": "idx_suppliers_company",
          "columns": [
            "company_name"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "suppliers_id": {
          "name": "suppliers_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}